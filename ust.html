<!DOCTYPE html>
<html>
<head>
	<title>Üst Bitme Olasılığı Hesaplama</title>
	<style>
		label {
			display: block;
			margin-bottom: 5px;
		}
		input[type="number"] {
			padding: 5px;
			border-radius: 3px;
			border: 1px solid #ccc;
			font-size: 16px;
			margin-bottom: 10px;
			width: 100%;
			box-sizing: border-box;
		}
		input[type="submit"] {
			padding: 10px;
			border-radius: 5px;
			background-color: #007bff;
			color: #fff;
			font-size: 16px;
			border: none;
			cursor: pointer;
		}
		input[type="submit"]:hover {
			background-color: #0062cc;
		}
		.result {
			font-size: 18px;
			font-weight: bold;
			margin-top: 10px;
		}
	</style>
</head>
<body>
	<h1>Üst Bitme Olasılığı Hesaplama</h1>
	<form onsubmit="return calculate()">
		<label for="a-goals">A Takımı Gol Sayısı:</label>
		<input type="number" id="a-goals" name="a-goals" required>
		<label for="a-matches">A Takımı Oynadığı Maç Sayısı:</label>
		<input type="number" id="a-matches" name="a-matches" required>
		<label for="b-goals">B Takımı Gol Sayısı:</label>
		<input type="number" id="b-goals" name="b-goals" required>
		<label for="b-matches">B Takımı Oynadığı Maç Sayısı:</label>
		<input type="number" id="b-matches" name="b-matches" required>
		<input type="submit" value="Hesapla">
	</form>
	<div class="result" id="result"></div>
	<script>
		function calculate() {
		  const aGoals = parseInt(document.getElementById("a-goals").value);
		  const bGoals = parseInt(document.getElementById("b-goals").value);
		  const aMatches = parseInt(document.getElementById("a-matches").value);
		  const bMatches = parseInt(document.getElementById("b-matches").value);
		  const overProb = calculateOverProb(aGoals, bGoals, aMatches, bMatches);
		  document.getElementById("result").innerHTML = "Üst Bitme Olasılığı: " + overProb.toFixed(2);
		  return false; // sayfa yenilenmesini engellemek için false döndürür
		}

		function calculateOverProb(aGoals, bGoals, aMatches, bMatches) {
		  const totalMatches = aMatches + bMatches;
		  const avgAGoals = aGoals / aMatches;
		  const avgBGoals = bGoals / bMatches;
		  const avgTotalGoals = (aGoals + bGoals) / totalMatches;
		  const overProb = 1 - poisson(avgTotalGoals, 0) - poisson(avgTotalGoals, 1);
		  return overProb;
		}

		function poisson(lambda, k) {
		  const expLambda = Math.exp(-lambda);
		  let p = Math.pow(lambda, k) * expLambda
	  for (let i = 1; i <= k; i++) {
	    p /= i;
	    p *= lambda;
	  }
	  return p * expLambda;
	}
</script>
</body>
</html>
